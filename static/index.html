<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0">
    <meta name="author" content="Rob Carrington">

    <title>Wanderlust</title>

    <!-- Bootstrap core CSS -->
    <link href="css/bootstrap.min.css" rel="stylesheet">
 
    <!-- Custom Google Web Font -->
    <link href='https://fonts.googleapis.com/css?family=Lato:100,300,400,700,900,100italic,300italic,400italic,700italic,900italic' rel='stylesheet' type='text/css'>
	<link href='https://fonts.googleapis.com/css?family=Arvo:400,700' rel='stylesheet' type='text/css'>
	
    <!-- Custom CSS-->
    <link href="css/general.css" rel="stylesheet">

	 <!-- Owl-Carousel -->
    <link href="css/custom.css" rel="stylesheet">
	<link href="css/owl.carousel.css" rel="stylesheet">
    <link href="css/owl.theme.css" rel="stylesheet">
	<link href="css/style.css" rel="stylesheet">
    <link href="css/jquery-ui.min.css" rel="stylesheet">
    <link href="css/jquery.comiseo.daterangepicker.css" rel="stylesheet">


	<!-- Magnific Popup core CSS file -->
	<link rel="stylesheet" href="css/magnific-popup.css">
    <script type="text/javascript" src="js/jquery-1.10.2.js" ></script>
    <script type="text/javascript" src="js/moment.js"></script>


</head>

<body id="home">

	<!-- FullScreen -->
    <div class="first_and_second_page">
    <div class="intro-header">
		<div class="col-xs-12 text-center abcen1">
			<h1 class="h1_home wow fadeIn" data-wow-delay="0.4s">Wanderlust</h1>
			<h3 class="h3_home wow fadeIn" data-wow-delay="0.6s">a curated collection of travel logs</h3>
		</div>
        <!-- /.container -->
		<div class="col-xs-12 text-center abcen wow fadeIn">
			<div class="button_down">
				<a class="imgcircle wow" data-wow-duration="2.5s"  href="#whatis"> <img class="img_scroll" src="img/icon/circle.png" alt=""> </a>
			</div>
		</div>
    </div>

    <nav class="navbar-default stuckMenu" role="navigation" style="position: relative; top: 0px;">
        <div class="container">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
                    <span class="sr-only">Toggle navigation</span>
                    </button>
                    <a id="brand" class="navbar-brand" href="#home" style="">Wanderlust</a>

                    <select name="number_of_people" id="number_of_people">
                      <option disabled selected># of Adults</option>
                      <option>1</option>
                      <option>2</option>
                      <option>3</option>
                      <option>4</option>
                      <option>5</option>
                    </select>

                    <select name="number_of_children" id="number_of_children">
                      <option disabled selected># of Children</option>
                      <option>1</option>
                      <option>2</option>
                      <option>3</option>
                      <option>4</option>
                      <option>5</option>
                    </select>

                    <input id="calendar" name="calendar"/>
                    <button type="button" class="ui-button" id="generate">Generate!</button>
            </div>

            </div>
    </nav>
	
	<!-- What is -->
	<div id="whatis" class="content-section-b" style="border-top: 0">

    <div class="container">
        <div class="row">
		    <div class="span12">
                <div id="main" role="main" >
                    <div class="card-columns" id="column-view"></div>
                </div>
            </div>
        </div>
    </div>
    <div style="display: table; margin: 0 auto;">
        <img src="img/icon/hex-loader.gif" id="infiniteLoader" style="display: none;">
	</div>


    </div><!-- end of wrapper-->

</div>
    <div id='third_page' class="w3-content" style="display: none;max-width:1400px">

    <!-- Header -->
    <div class="w3-container w3-center w3-padding-32 intro-header2">
      <div class="col-xs-12 text-center abcen1">

            </div>
      <!--<p>Like, a lot</p>-->
    </div>

<!-- Location entries -->
<div id="content" style="">
  <!-- location entry -->
  <!--<div class="w3-card-4 w3-margin w3-white" id="entry_container">-->
    <!--<div class="row">-->
      <!--<div class="col-sm-4">-->
        <!--<img style="margin-bottom: 0px;" src="http://www.astonhotels.com/assets/slides/690x380-Hawaii-Sunset.jpg" width="340" height="150"/>-->
      <!--</div>-->

      <!--<div class="col-sm-8">-->
        <!--<div class="w3-container w3-padding-8">-->
          <!--<h3><b>Honolulu, HI</b></h3>-->
        <!--</div>-->

        <!--<div class="w3-container" id="activity_description">-->
          <!--<p>Swimming</p>-->
          <!--<p>Hiking</p>-->
          <!--<p>Honeymoon</p>-->
        <!--</div>-->
      <!--</div>-->
        <!--<div class="w3-row button_see_hotels">-->
          <!--<div class="w3-col m8 s12">-->
            <!--<p><button class="w3-btn w3-padding-large w3-white w3-border w3-hover-border-black"><b>See Hotels</b></button></p>-->
        <!--</div>-->
      <!--</div>-->
    <!--</div>-->
  <!--</div>-->

      <!--<ul class="w3-card-4 w3-margin w3-white hotel-list">-->
    <!--<li>-->
      <!--<h6>Four Seasons Resort</h6>-->
    <!--</li>-->
    <!--<hr>-->
    <!--<li><h6>Marriot Hotel</h6></li>-->
    <!--<hr>-->
    <!--<li><h6>Radisson Hotel & Suites</h6></li>-->
    <!--<hr>-->
    <!--<li><h6>Ritz Carleton Hotel</h6></li>-->
  <!--</ul>-->



<!-- END Introduction Menu -->
</div>

<!-- END w3-content -->
</div>


    <!-- JavaScript -->
    <script src="js/jquery-ui.min.js"></script>
    <script src="js/bootstrap.js"></script>
	<script src="js/owl.carousel.js"></script>
	<script src="js/script.js"></script>
    <script src="js/jquery.comiseo.daterangepicker.js"></script>
	<!-- StikyMenu -->
	<script src="js/stickUp.min.js"></script>
	<script type="text/javascript">
        $( document ).ready(function() {
            $( function() {
                    $( "#calendar" ).daterangepicker({initialText : 'Date Range'});

                } );
                setTimeout(function(){$("#drp_autogen0").text('Date Range').addClass('ui-button');}, 500)
        });


	    function insert_images(start, amount) {
	        var fixture = {{ article_list }};
            for (i = start; i<(start+amount); i++) {
                if (i > fixture.length-1){
                   x = i % (fixture.length - 1)
                }
                else{
                   x = i
                }
                var insert = '<div class="card" style="border-ggwidth: 2px;"><a target="_blank" href="'+fixture[x]["linkOut"]+'"><img class="opaque" style="padding: 6px;padding-bottom:12px;" src=' + fixture[x]["image"] + ' width=362;><div class="over-panel" style="display:none; position: absolute; bottom: 0;right: 0;left: 0; top: 0;background-color: black; opacity: 0.5;"> </div><p class="over-text" style="position: absolute; left: 0; top: 0;color: white; padding:10px; padding-right: 60px; opacity: .8;" >'+ fixture[x]["text"] + '</p></a><img onclick="$(this).hide();" class="red_heart" style="display:none; position: absolute; top: 9px; right:9px;opacity: .8; z-index:2;" src="/img/icon/red_heart.png" width=35 height=35 ><img onclick="$(this).parent().find(\'.red_heart\').show();" class="white_heart" style="display:none; position: absolute; top: 9px; right:9px;opacity: .8;" src="/img/icon/white_heart.png" width=35 height=35 ></div>'
                $('#column-view').append(insert);
            }
          $('.card').hover(
          function(){$(this).find( "p, .over-panel, .white_heart" ).css( "display", "block" );},
          function(){$(this).find( "p, .over-panel, .white_heart" ).css( "display", "none" );}
	  );
        }

        insert_images(0, 16);
        image_index = 20

      $(window).scroll(function() {
           if($(window).scrollTop() + $(window).height() == $(document).height()) {
               $('#infiniteLoader').show();
	           $('#infiniteLoader').delay(300).fadeOut('slow');
	           setTimeout(function(){insert_images(image_index, 20)}, 1000);
           }
       });

	  jQuery(function($) {
		$(document).ready( function() {
		  $('.navbar-default').stickUp();
		  
		});
	  });

	  $( "#number_of_people, #number_of_children" ).selectmenu();

	  $('#generate').click(function(){

            $.ajax({
                type: "POST",
                url: "/filter",
                data: JSON.stringify({"ids":[1,2], "adults": 2, "children": 2, "startDate": "2016-12-12", "endDate": "2016-12-12"}),
                contentType: "application/json",
                dataType: "json",
                processData: false,
                success: function( data, textStatus, jQxhr ){
                    $('#response pre').html( JSON.stringify( data ) );
                },
                error: function( jqXhr, textStatus, errorThrown ){
                    console.log( errorThrown );
                }
                }).done(function(data){
                console.log(data);

                location_array = Object.keys(data);

                for (i in location_array){
                    img = "http:"+Object.keys(data).map(k => data[k])[i]["hotels"][0]["images"]["urls"]['original'];
                    location_url = location_array[i];
                    $('#content').append(generateLocation(img, location_url, []));
                    $('#content').append(generateHotels(Object.keys(data).map(k => data[k])[i]["hotels"]));

                }

                });

            $('#third_page').show();
            $('.first_and_second_page').hide();
            $('body').css('background-color', '#F5F3EE');
            $('body').css('background', 'url("img/intro/asanoha-400px.png") repeat');

       });

	
	</script>

	<!-- Smoothscroll -->
	<script type="text/javascript" src="js/jquery.corner.js"></script>
	<script src="js/wow.min.js"></script>
	<script>
	 new WOW().init();
	</script>
	<script src="js/classie.js"></script>
	<!-- Magnific Popup core JS file -->
	<script src="js/jquery.magnific-popup.js"></script>
    <script>

    </script>

<script type="text/javascript" src="js/generate-location.js"></script>
<script type="text/javascript" src="js/collapsable-hotel.js"></script>
<link rel="stylesheet" type="text/css" href="css/destination_style.css">
<link rel="stylesheet" href="css/w3.css">
</body>
</html>
